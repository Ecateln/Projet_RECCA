<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recca</title>
    <link rel="stylesheet" href="/public/css/chatBotPageStyle.css">    
    <link rel="icon" type="image/png" href="/public/img/logoBlanc.png">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Conteneur principal -->
    <div class="container">
        
        <!-- SIDEBAR -->
        <aside class="sidebar" id="sidebar">
            <!-- Contrôles de la sidebar -->
            <div class="sidebar-header">
                <button class="retract-button" onclick="toggleSidebar()" title="Rétracter/Étendre">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
                        <path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm240-80h400v-480H400v480Zm-80 0v-480H160v480h160Zm-160 0v-480 480Zm160 0h80-80Zm0-480h80-80Z"/>
                    </svg>
                </button>
                
                <!-- Toggle Internet -->
                <label class="internet-toggle" for="internetToggle" onclick="toggleInternetResearch()">
                    <div class="internet-toggle-left">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px">
                            <path d="M480-80q-82 0-155-31.5t-127.5-86Q143-252 111.5-325T80-480q0-83 31.5-156t86-127Q252-817 325-848.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 82-31.5 155T763-197.5q-54 54.5-127 86T480-80Zm-40-82v-78q-33 0-56.5-23.5T360-320v-40L168-552q-3 18-5.5 36t-2.5 36q0 121 79.5 212T440-162Zm276-102q20-22 36-47.5t26.5-53q10.5-27.5 16-56.5t5.5-59q0-98-54.5-179T600-776v16q0 33-23.5 56.5T520-680h-80v80q0 17-11.5 28.5T400-560h-80v80h240q17 0 28.5 11.5T600-440v120h40q26 0 47 15.5t29 40.5Z"/>
                        </svg>
                        <span class="label-text">Recherche Web</span>
                    </div>
                    <input type="checkbox" id="internetToggle">
                </label>
                
                <!-- Nouveau chat -->
                <a href="#" class="new-chat-btn" onclick="createNewConversation(); return false;">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3" >
                        <path d="M120-160v-600q0-33 23.5-56.5T200-840h480q33 0 56.5 23.5T760-760v203q-10-2-20-2.5t-20-.5q-10 0-20 .5t-20 2.5v-203H200v400h283q-2 10-2.5 20t-.5 20q0 10 .5 20t2.5 20H240L120-160Zm160-440h320v-80H280v80Zm0 160h200v-80H280v80Zm400 280v-120H560v-80h120v-120h80v120h120v80H760v120h-80ZM200-360v-400 400Z"/>
                    </svg>
                    Nouveau chat
                </a>
            </div>
            
            <hr>
            
            <!-- Liste des conversations -->
            <div class="conversations-section">
                <h3>Conversations</h3>
                <div class="conversation-list" id="conversation-list">
                </div>
            </div>
        </aside>
        
        <!-- ZONE DE CHAT PRINCIPALE -->
        <main class="chat-area">
            <!-- En-tête -->
            <header class="chat-header">
                <div class="header-left">
                    <h1>Recca</h1>
                    <img src="/public/img/logoBlanc.png" alt="Logo"/>
                </div>
                <div class="header-right">
                    <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#FFFFFF" onclick="createUserSettingsPopup()" style="cursor: pointer;">
                        <path d="M232-253.08q59.92-41.3 119.23-64.03 59.31-22.74 128.77-22.74 69.46 0 129.08 22.74 59.61 22.73 119.53 64.03 43.62-50.53 64.81-106.72 21.19-56.19 21.19-120.2 0-141.54-96.53-238.08-96.54-96.53-238.08-96.53-141.54 0-238.08 96.53-96.53 96.54-96.53 238.08 0 64.01 21.5 120.2T232-253.08Zm247.78-204.23q-53.93 0-90.74-37.02-36.81-37.03-36.81-90.96 0-53.94 37.03-90.75 37.02-36.81 90.96-36.81 53.93 0 90.74 37.03 36.81 37.02 36.81 90.96 0 53.94-37.03 90.74-37.02 36.81-90.96 36.81Zm.69 357.31q-79.01 0-148.24-29.77-69.24-29.77-120.96-81.58-51.73-51.8-81.5-120.72-29.77-68.92-29.77-148T129.77-628q29.77-68.85 81.58-120.65 51.8-51.81 120.72-81.58 68.92-29.77 148-29.77T628-830.23q68.85 29.77 120.65 81.58 51.81 51.8 81.58 120.68Q860-559.09 860-480.47q0 79.01-29.77 148.24-29.77 69.24-81.58 120.96-51.8 51.73-120.68 81.5Q559.09-100 480.47-100Zm-.47-45.39q55.77 0 110-17.73t102.15-57.34q-47.92-35.23-101.5-54.62-53.57-19.38-110.65-19.38-57.08 0-110.85 19.19-53.77 19.19-100.92 54.81 47.54 39.61 101.77 57.34 54.23 17.73 110 17.73Zm.05-357.3q35.87 0 59.1-23.29 23.24-23.28 23.24-59.15t-23.29-59.1q-23.28-23.23-59.15-23.23t-59.1 23.28q-23.24 23.29-23.24 59.16t23.29 59.1q23.28 23.23 59.15 23.23Zm-.05-82.39Zm0 365.16Z"/>
                    </svg>
                </div>
            </header>
            
            <!-- Messages -->
            <div class="messages-container">
                <div class="message user-message">
                    <p>prompt boubouboubouboubouboubouboubouuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu...</p>
                </div>
                <div class="message bot-message">
                    <p>réponse fournie par Reccabouboubouboubouboubouboubouuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu...</p>
                </div>
                <div class="message user-message">
                    <p>prompt boubouboubouboubouboubouboubou...</p>
                </div>
                <div class="message bot-message">
                    <p>réponse **fournie** par Reccabouboubouboubouboubouboubou...</p>
                </div>
                <div class="message user-message">
                    <p>prompt boubouboubouboubouboubouboubou...</p>
                </div>
                <div class="message bot-message">
                    <p>réponse fournie par Reccabouboubouboubouboubouboubou...</p>
                </div>
                <div class="message user-message">
                    <p>prompt boubouboubouboubouboubouboubou...</p>
                </div>
                <div class="message bot-message">
                    <p>réponse fournie par Reccabouboubouboubouboubouboubou...</p>
                </div>
                <div class="message user-message">
                    <p>prompt boubouboubouboubouboubouboubou...</p>
                </div>
                <div class="message bot-message">
                    <p>réponse fournie par Reccabouboubouboubouboubouboubou...</p>
                </div>
                <div class="message user-message">
                    <p>prompt boubouboubouboubouboubouboubou...</p>
                </div>
                <div class="message bot-message">
                    <p>réponse fournie par Reccabouboubouboubouboubouboubou...</p>
                </div>
            </div>
            
            <!-- Zone de saisie -->
            <div class="input-area">
                <div class="input-container">
                    <input type="text" id="message-input" placeholder="Poser une question" autocomplete="off">
                    <button id="send-btn" onclick="sendMessage()" type="button">
                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                            <path d="M120-160v-640l760 320-760 320Zm80-120 474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </main>
    </div>

    <script src="/public/js/chatBotPageScript.js"></script>
</body>
</html>